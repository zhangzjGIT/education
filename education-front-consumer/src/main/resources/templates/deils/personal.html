<!DOCTYPE html>
<!-- saved from url=(0051)http://www.class.cn/my_course/create_course?act=add -->
<html lang="en-US">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>创建课程-金科教育在线</title>
	<link rel="stylesheet" href="../personal/layout.css" media="all">
    <link rel="stylesheet"  href="../uploadify/uploadify.css" type="text/css"/>

    <link rel="shortcut icon" href="//8.url.cn/edu/edu_modules/edu-ui/img/nohash/favicon.ico"/>
    <link rel="dns-prefetch" href="//7.url.cn">
    <link rel="dns-prefetch" href="//8.url.cn">
    <link rel="dns-prefetch" href="//9.url.cn">
    <link rel="stylesheet" href='//8.url.cn/edu/edu_modules/edu-ui/css/common.9d8f74fe.css' />
    <link rel="stylesheet" href='//8.url.cn/edu/modules/courseList/course_list.892c88dc.css' />
    <script src="../js/jquery.min.js"></script>
    <script type="text/javascript" src="../uploadify/jquery.uploadify.min.js"></script>


</head>
<body>
<style type="text/css">
	form.headsearch {float:left;width:50%}
	div.header .login {font-family:"Microsoft YaHei";font-size:16px;font-weight:bold;color:#FFF;margin-top:5px;height:36px;margin-right:20px}
	div.header .up_course {display:inline-block;font-family:"Microsoft YaHei";font-size:16px;font-weight:bold;color:#FFF;margin-top:-10px;margin-left:-10px}
	p.login {text-align:left}
	#mailcontent {width:150px;left:-100px}
</style>
<!--顶部导航栏-->
<!--<div class="top-nav" style="display: block; margin-top: 32px;">
	<div class="w1180">
		<div class="top-nav-logo"><a href="http://www.class.cn/index/stu"><img title="莘莘学子" src="../personal/logo.png" border="0"> </a><span class="hide">中国教育在线-莘莘学子</span></div>
		<div class="top-nav-search-courses">
			<div class="top-nav-search-box">
			</div>
			<a href="javascript:;" id="show_course_type">发现课程</a>
			<a href="http://www.class.cn/index/tech">我要开课</a>
		</div>
		<div class="top-nav-userinfo-box">
						&lt;!&ndash;登录状态&ndash;&gt;
			<div class="state-login" style="">
				&lt;!&ndash;userinfo-mailbox-preview是更改收件箱为预览状态的class&ndash;&gt;
				<div class="userinfo-cartbox" style="display:none;">
				<dl>
					<dt class="ld">
						<s></s>
                                <span class="shopping">
                                    <span id="shopping-amount"></span>
                                </span>
					</dt>
				</dl>
			</div>
			<div class="clear"></div>
		</div>
			</div>
	<div class="clear"></div>
</div>
</div>-->
<header class="header-index" id="js_main_nav">
    <div class="header-index-inner clearfix">
        <a href="../user/tomain"  report-tdw="action=rainbow-logo-clk" title="金科在线教育平台"><img src="../images/logo.jpg" width="250px" height="100px"></a>
        <div class="header-index-category js-header-index-category" report-hover="obj1=cates">
            <div class="header-index-category-text">
            </div>
            <div class="index-cate js-index-cate">
                <!-- 类目导航 -->
            </div>
        </div>
        <div class="header-index-search" id="js-searchbox">
            <div class="mod-search">
                <a class="mod-search-dropdown">
                    <span class="mod-search-dropdown-item mod-search-dropdown-item-selected" data-type="course">课程<i class="icon-font i-v-bottom-small"></i></span>
                </a>
                <!-- 默认搜索词 -->
                <input type="text" id="js_keyword" maxlength="38" class="mod-search__input" placeholder="搜索课程" />
                <a id="search" href="javascript:search()" class="mod-search__btn-search"><i class="icon-font i-search-bold"></i></a>
            </div>
            <div id="js-searchhot" class="header-index-hot">
                <div class="header-index-hot--history">
                    <div class="hot-word-list"></div>
                </div>
                <!-- 搜索历史及搜索热词 -->
            </div>
            <div id="js-searchAssociation" class="header-index-hot"></div>
        </div>
        <div class="header-index-text">

            <!-- 登录相关组件 -->
            <!--<div id="js-mod-header-login" class="mod-header__wrap-login mod-header__wrap-logined">
                <div class="mod-header_wrap-user dropdown-wrap">
                    <p class="mod-header__user-name dropdown-tt">
                        <a href="/user/index/index.html" class="mod-header__user-operation" rel="nofollow" report-hover="module=personalcenter&amp;position=nickname" report-attr="module=personalcenter&amp;position=nickname">
                            <img th:src="${user.img}" alt="头像" class="mod-header__user-avatar js-avatar" onerror="this.src='../images/b2.jpg';this.onerror=null">

                            <span class="mod-header__user-operation-title js-username" th:title="${user.userName}" th:text="${user.userName}"></span>
                        </a>
                    </p>
                    <ul class="mod-header__user-operations dropdown-list">
                        <li><a href="/user/index/index.html#sid=plan" class="mod-header__user-operation" rel="nofollow" report-attr="module=personalcenter&amp;position=class_schedule&amp;ver1=topbar">课程表</a></li>
                        <li><a href="../user/contact" class="mod-header__user-operation js-userinfo" rel="nofollow" report-attr="module=personalcenter&amp;position=userinfo&amp;ver1=topbar">个人信息</a></li>
                        <li><a href="javascript:void(0)" id="out"  >退出登录</a></li>
                    </ul>
                </div>
                <div class="mod-header_wrap-user dropdown-wrap"   id="show" style="display: block;">
                    <input type="hidden" th:value="${codes}" id="codes">
                    <a onclick="agLogin()">登录</a>
                </div>
            </div> -->
        </div>
    </div>
</header>
<!--顶部导航栏END-->
<!--课程全部分类框-页面顶部发现课程-->
<!--课程全部分类框END-->
	<div class="content body_width overnone">
		<div class="wraper marb20">
			<div class="usercontent mart20 overnone">
				<div class="userface">
            <div class="userface_wraper clearfix">
                <div class="fl marr10 face" id="user_face">
                    <!--若有头像,使用本人的，否则使用系统的分为个人和机构两个不同的图片-->
                    <span id="img_span">
                        <img src="../personal/user_face.jpg" onerror="this.onerror=null;this.src=&#39;http://www.class.cn/public/images/user_face.jpg&#39;" alt="">
                    </span>
                    <span class="changebtn" id="changebtn" style="display:none">
                        <em class="changebtn_bg"></em>
                        <a class="my_runcode" name="my_flash_a" href="http://www.class.cn/account_user/upload_photo">更换头像</a>
                    </span>
                </div>
                <div class="fl userinfo2 auth_info">
                    <p><!--<span>用户昵称：</span>--><a class="deepblue nickname" href="javascript:void(0);" onclick="window.location.href = &#39;" th:text="${user.userName}"></a></p>
                    <p><!--<span>收费权限：</span>--><a class="deepblue applyset" href="javascript:void(0);" onclick="window.location.href = &#39;">申请收费权限</a></p>
                </div>
            </div>
            <div class="userinfo2" style="border-top:1px solid #DEDEDE;padding-top:0px;">
            	<ul class="adduserinfo">
                    <li>
                        <a href="http://www.class.cn/my_course/lists" class="a4 active">我的课程</a>
                    </li>
                    <li>
                        <a href="http://www.class.cn/my_lib" class="a11 ">资源库</a>
                    </li>
                </ul>
                <ul class="adduserinfo">
                    <li><a href="http://www.class.cn/my_course/collect_course" class="a5 ">我的收藏</a></li>
                </ul>
                <ul class="adduserinfo">
                    <li class="posr"><a href="http://www.class.cn/user/message" class="a8 ">我的消息</a></li>
                </ul>
                <ul class="adduserinfo" style="background-image:none;">
                	<li><a href="http://www.class.cn/user/trade" class="a9 ">我的账户</a></li>
                </ul> 
                            </div>
		</div>
<div class="userdata posr">
    <!-- 创建课程信息 strat -->
    <h2 class="YaHei add_course_title tit_line">创建课程</h2>
   <!-- <ul class="mart20 progressbar clearfix">
        <li class="active">填写课程信息<i class="triangle"></i></li>
        <li>安排点播课程</li>
        <li>安排点播课程<i class="triangle"></i></li>
        <li>安排直播课程</li>
    </ul>-->
    <form id="addCourseForm" method="post">
        <div class="tabs_wraper">
            <div id="error_msg" class="error" style="width:100%;height:35px;line-height:35px;margin-left:18px;display:none;"></div>
            <div class="tabs_attr tabs_attr_hd">
                <div class="tabs_key"><span>*</span>课程标题：</div>
                <div class="tabs_values">
                    <input type="text" class="input_text" name="couTitle" >
                </div>
            </div>
            <div class="tabs_attr tabs_attr_hd">
                <div class="tabs_key"><span>*</span>课程类型：</div>
                <div id="base_set" class="tabs_values">
                    <input type="radio" name="couType" value="1" class="input_radio">点播
                    <!--2015-12-29取消 <input id="sel_live" type="radio" name="course_type" value="2" class="input_radio" /><label for="sel_live">直播</label>
                    <input id="sel_demandtolive" type="radio" name="course_type" value="3" class="input_radio" /><label for="sel_demandtolive">点播+直播</label>-->
                </div>
            </div>
            <div class="tabs_attr tabs_attr_hd">
                <div class="tabs_key"><span>*</span>课程分类：</div>
                <div class="tabs_values">
                    <select id="lev1" name="couClass">
                          <option value="0">课程分类</option>
                          <option value="1">IT▪互联网</option>
                          <option value="2">设计▪创作</option>
                          <option value="3">语言▪留学</option>
                          <option value="4">职业▪考证</option>
                          <option value="5">升学▪考研</option>
                          <option value="6">兴趣▪生活</option>
                      </select>
                </div>
            </div>
                        <div class="tabs_attr tabs_attr_hd">
                <div class="tabs_key"><span>*</span>课程价格：</div>
                <div class="tabs_values">
                    <input id="free" type="radio" name="couPrice" value="0" class="input_radio"><label for="free">免费</label>　
                    <input id="pay" type="radio" name="couPrice" value="1" class="input_radio"><label for="pay">收费</label>
                </div>
            </div>
            <!--  -->
            <div class="tabs_attr tabs_attr_hd">
                <div class="tabs_key"><span>*</span>课程说明：</div>
                <div class="tabs_values">
                    <div class="ke-container ke-container-default" style="width: 650px;">
                        <textarea name="couState" id="edittext"></textarea>
                </div>
            </div>
            <div class="tabs_attr tabs_attr_hd">
                <div class="tabs_key"><span>*</span>课程封面：</div>
                <div class="tabs_values">
                    <input type="file" id="imgFileBTN" >
                    <div id="showImgDiv" style="margin-left:10px;border-radius:250px;width:100px;height:100px;border-style:solid;">
                        <div id="showImg" style="margin-left:-1px;">

                        </div>
                    </div>
                    <!-- 显示进度条的div -->
                    <div id="showImgBars" ></div>
                    <input type="hidden" id="photo" name="priImg"/>
                </div>
            </div>

            <div class="tabs_attr tabs_attr_hd">
                <div class="tabs_key"><span>*</span>课程名称：</div>
                    <input type="text" name="infoName" style="width:200px;height:10px" >
                    <br/>

                    <div class="tabs_values">
                        <input type="file" id="videoFileBTN" >
                        <!-- 显示进度条的div -->
                        <div id="showVideoBars" ></div>
                        <input type="hidden" id="userp" name="couInfo"/>
                    </div>
            </div>

            <!-- 提交按钮区域 strat -->
            <div class="mart20 tac btn_wraper">
                <span class="btn_auto">
                    <!-- <input type="hidden" name="active" value="" id="active" /> -->
                     <a style="background: rgb(0, 144, 255);cursor:pointer; padding: 7px 10px; border-radius: 4px; border: 1px solid rgb(26, 117, 152); border-image: none; color: rgb(255, 255, 255); font-weight: bold;"
                           onclick="addCourse()">发布课程</a>
                </span>
            </div>
            <!-- END -->

        </div>
        </div>
    </form>
</div>
</div>
</div>
</div>
<!--包含尾部进来-->
<footer class="footer">
    <i class="icon-font i-logo" title="在线教育平台"></i>
    <p>Copyright © 2018 Tencent. All Rights Reserved.</p>
    <p>金科在线教育 版权所有 | <a href="//ke.qq.com/proService.html" target="_blank" rel="nofollow">金科课堂服务协议</a> | <a href="//ke.qq.com/sitemap.html" target="_blank">站点地图</a> | <a href="//ke.qq.com/tort.html" target="_blank">侵权投诉</a> | <a href="http://support.qq.com/write.shtml?fid=1042" rel="nofollow" report-tdw="action=Feedback" target="_blank">问题反馈</a> | <a href="//ke.qq.com/faq.html" target="_blank">帮助</a></p>
</footer>

<script>
    function addCourse(){
        $.ajax({
            url:'../user/addCourse',
            type:'post',
            data:$('#addCourseForm').serialize(),
            dataType:'json',
            success:function(result){
                if (result){
                    alert("课程已提交待审核，请耐心等待")
                }else{
                    alert("课程提交失败，请重新提交")
                }
                //location.href="../user/enroll";
            }
        })
    }

    function search(){
        var aa = $("#js_keyword").val();
        location.href="../user/searchList?search="+aa;
    }
</script>

<script>
    $(function(){
        //给文件域的id  一个上传方法
        $("#imgFileBTN").uploadify({
            //前台请求后台的url 不可忽略的参数
            'uploader' :"../user/upImg",
            //插件自带 不可忽略的参数
            'swf' : "../uploadify/uploadify.swf",
            //撤销按钮的图片路径
            'cancelImg' : "../uploadify/uploadify-cancel.png",
            //如果为true 为自动上传 在文件后 为false 那么它就要我们自己手动点上传按钮
            'auto' : true,
            //可以同时选择多个文件 默认为true 不可忽略
            'multi' : false,
            //给上传按钮设置文字
            'buttonText' : '上传封面',
            //上传后队列是否消失
            'removeCompleted' : true,
            'removeTimeout' : 1,
            //上传文件的个数
            'uploadLimit' : 1,
            'fileTypeExts' : '*.*',
            'fileSizeLimit' : '20000MB',
            //给div的进度条加背景 不可忽略
            'queueID' : 'showImgBars',
            // controller层方法中接收文件的参数名
            'fileObjName' : 'file',
            //上传成功后的回调函数
            'onUploadSuccess' : function(file, data, response) {
                //data   上传到服务器的文件夹   加     图片名
                $("#showImg").html("<img src='"+JSON.parse(data).aaa+"' style='width:100px;height:100px;border-radius:220px;'/>");
                $("#photo").val(JSON.parse(data).aaa);
                //转换为脚本对象
            }
        })
    })
</script>

<script type="text/javascript">
    $(function(){
        //给文件域的id  一个上传方法
        $("#videoFileBTN").uploadify({
            //前台请求后台的url 不可忽略的参数
            'uploader' :"../user/upImg",
            //插件自带 不可忽略的参数
            'swf' : "../uploadify/uploadify.swf",
            //撤销按钮的图片路径
            'cancelImg' : "../uploadify/uploadify-cancel.png",
            //如果为true 为自动上传 在文件后 为false 那么它就要我们自己手动点上传按钮
            'auto' : true,
            //可以同时选择多个文件 默认为true 不可忽略
            'multi' : false,
            //给上传按钮设置文字
            'buttonText' : '上传视频',
            //上传后队列是否消失
            'removeCompleted' : true,
            'removeTimeout' : 1,
            //上传文件的个数
            'uploadLimit' : 1,
            'fileTypeExts' : '*.*',
            'fileSizeLimit' : '20000MB',
            //给div的进度条加背景 不可忽略
            'queueID' : 'showVideoBars',
            // controller层方法中接收文件的参数名
            'fileObjName' : 'file',
            //上传成功后的回调函数
            'onUploadSuccess' : function(file, data, response) {
                //data   上传到服务器的文件夹   加     图片名
                /*$("#showlogo").html('<img src="'+JSON.parse(data).aaa+'" style="width:100px;height:100px;border-radius:220px;"/>');*/
                $("#userp").val(JSON.parse(data).aaa);
                alert(JSON.parse(data).aaa);
                //转换为脚本对象
            }
        })
    })
</script>

</body>
</html>
